<!DOCTYPE html>
 
<html>
<head>
    <meta charset="utf-8" />
    <title>test</title>
</head>
<body>
    <button onclick="calculate()">calculate</button>
    <button onclick="dis()">dis</button>
 
    <script type="text/javascript">
        window.onload = function () {
            if (window.Notification) {
                Notification.requestPermission();
            }
        }
        
        function dis() {
            Notification.permission = 'disabled';
            console.log(Notification.permission);
        }

        function calculate() {
            notify();
        }
 
        function notify() {
            console.log(Notification.permission);
            if (Notification.permission !== 'granted') {
                return ;
            }
            else {
                var notification = new Notification('Notification title', {
                    icon: 'https://cdn.sstatic.net/stackexchange/img/logos/so/so-icon.png',
                    body: 'Notification text',
                });
 
                notification.onclick = function () {
                    window.open('https://google.com');
                };
            }
        }
    </script>
</body>
</html>
